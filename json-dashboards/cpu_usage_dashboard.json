{
  "uid" : "cpu-usage",
  "title" : "CPU Usage Dashboard",
  "tags" : [ "cpu", "demo" ],
  "timezone" : "browser",
  "editable" : true,
  "graphTooltip" : 0,
  "time" : {
    "from" : "now-15m",
    "to" : "now"
  },
  "fiscalYearStartMonth" : 0,
  "refresh" : "5s",
  "schemaVersion" : 41,
  "panels" : [ {
    "type" : "gauge",
    "targets" : [ {
      "expr" : "avg(cpu_usage{instance=\"server1\"}) by (instance)",
      "refId" : "A",
      "datasource" : {
        "type" : "prometheus",
        "uid" : "prometheus"
      }
    } ],
    "title" : "CPU Usage (server1)",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 8,
      "x" : 0,
      "y" : 0
    },
    "fieldConfig" : {
      "defaults" : {
        "min" : 0.0,
        "max" : 100.0,
        "thresholds" : {
          "mode" : "percentage",
          "steps" : [ {
            "color" : "green"
          }, {
            "value" : 80.0,
            "color" : "yellow"
          }, {
            "value" : 90.0,
            "color" : "red"
          } ]
        }
      },
      "overrides" : [ ]
    }
  }, {
    "type" : "gauge",
    "targets" : [ {
      "expr" : "avg(cpu_usage{instance=\"server2\"}) by (instance)",
      "refId" : "A",
      "datasource" : {
        "type" : "prometheus",
        "uid" : "prometheus"
      }
    } ],
    "title" : "CPU Usage (server2)",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 8,
      "x" : 8,
      "y" : 0
    },
    "fieldConfig" : {
      "defaults" : {
        "min" : 0.0,
        "max" : 100.0,
        "thresholds" : {
          "mode" : "percentage",
          "steps" : [ {
            "color" : "green"
          }, {
            "value" : 80.0,
            "color" : "yellow"
          }, {
            "value" : 90.0,
            "color" : "red"
          } ]
        }
      },
      "overrides" : [ ]
    }
  }, {
    "type" : "gauge",
    "targets" : [ {
      "expr" : "avg(cpu_usage{instance=\"server3\"}) by (instance)",
      "refId" : "A",
      "datasource" : {
        "type" : "prometheus",
        "uid" : "prometheus"
      }
    } ],
    "title" : "CPU Usage (server3)",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 8,
      "x" : 16,
      "y" : 0
    },
    "fieldConfig" : {
      "defaults" : {
        "min" : 0.0,
        "max" : 100.0,
        "thresholds" : {
          "mode" : "percentage",
          "steps" : [ {
            "color" : "green"
          }, {
            "value" : 80.0,
            "color" : "yellow"
          }, {
            "value" : 90.0,
            "color" : "red"
          } ]
        }
      },
      "overrides" : [ ]
    }
  }, {
    "type" : "timeseries",
    "targets" : [ {
      "expr" : "avg(cpu_usage) by (instance)",
      "legendFormat" : "{{instance}}",
      "refId" : "A",
      "datasource" : {
        "type" : "prometheus",
        "uid" : "prometheus"
      }
    } ],
    "title" : "CPU Usage Over Time (All Servers)",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 24,
      "x" : 0,
      "y" : 8
    }
  }, {
    "type" : "barchart",
    "targets" : [ {
      "expr" : "avg(cpu_usage) by (instance)",
      "legendFormat" : "{{instance}}",
      "refId" : "A",
      "datasource" : {
        "type" : "prometheus",
        "uid" : "prometheus"
      }
    } ],
    "title" : "CPU Usage by Instance",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 24,
      "x" : 0,
      "y" : 16
    }
  }, {
    "type" : "state-timeline",
    "targets" : [ {
      "expr" : "count_over_time({service_name=\"backend\"}[1m])",
      "legendFormat" : "{{instance}} - {{detected_level}}",
      "refId" : "A",
      "datasource" : {
        "type" : "loki",
        "uid" : "Loki"
      }
    } ],
    "title" : "Log Count Over Time by Level and Instance",
    "transparent" : false,
    "gridPos" : {
      "h" : 8,
      "w" : 24,
      "x" : 0,
      "y" : 24
    }
  } ],
  "templating" : { },
  "annotations" : { }
}